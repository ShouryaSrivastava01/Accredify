<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.0-rc.0/web3.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">

    <title>Home</title>
    <link rel="stylesheet" href="static/home.css">
    <style>
        
    </style>
    
</head>
<body>
    <div class="main">
        <div class="left">
           <div>
               <img src="static/connect.svg" alt="" srcset="" height="230">
            <h1>Connect Your Wallet</h1>
            <button id = "btn" class="btn">Connect</button>
            <section id="wallet-info" hidden>
                <h3 id="account"></h3>
                <button class="btn" onclick="goToAdd()">Get Started</button>
            </section>
           </div>
        </div>
        <div class="right">
            <div>

                <span>CREATE&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSTORE&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspVERIFY</span>
                <span>DOCUMENTS</span>
                <span>USING</span>
                <span>BLOCKCHAIN</span>
                <a href="" target="_blank">Explore <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                  </svg></a>
            </div>

            <strong class="footer">Shourya Srivastava Â© 2022</strong>

        </div>
    </div>
</body>
<script>
    var account
    const getWeb3 =  async () => {
        return new Promise(async(resolve, reject) =>{
            const web3 = new Web3(window.ethereum)
            try{
                account =await window.ethereum.request({method:"eth_requestAccounts"})
                document.getElementById("account").innerText=account;
                document.getElementById("wallet-info").removeAttribute("hidden")

                
            }catch(error){
                reject(error)
            }
        }
    
        )
    }
document.addEventListener("DOMContentLoaded", ()=>{
    document.getElementById("btn").addEventListener("click", async()=>{
        const web3  = await getWeb3();
    })
})
window.ethereum.on('accountsChanged', function (accounts) {
    console.log(accounts)
    document.getElementById("account").innerText=accounts[0];
  })

  function goToAdd(){
    window.location.href="addCertificate"
  }


</script>
</html>